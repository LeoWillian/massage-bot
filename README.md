# Telegram Бот для Записи на Массаж

## Обзор
Это Telegram-бот для массажного бизнеса Ольги. Он предоставляет интерактивное меню для клиентов, позволяющее:
- Просматривать 22 массажных услуги, организованные по категориям
- Записываться на приём через DIKIDI Online
- Получать контактную информацию
- Получать ответы на часто задаваемые вопросы

## Структура Проекта
- `Bot.py` - основное приложение бота со всеми обработчиками и логикой меню
- `bot_profile_photo.jpg` - фотография профиля бота (установка через BotFather)
- `requirements.txt` - зависимости Python

## Последние Изменения
**24 ноября 2025 г.**
- Обновлён список услуг с 21 на 22 услуги с новыми и переорганизованными предложениями
- Добавлены 3 варианта медового массажа (Восстановление, Похудение, На проблемные участки)
- Переорганизованы спец. услуги с полными описаниями
- Обновлены все URL услуг, цены, длительность и описания из DIKIDI
- Пересчитаны и исправлены все индексы категорий для правильной группировки:
  - Общий массаж: 7 услуг (Аппаратный, Лимфо спины, Лимфо тела, Рук, Спины, Общий, ШВЗ)
  - Антицеллюлитный: 4 услуги (включая Кинезиотейпирование)
  - Массаж ног: 4 услуги
  - Лицо и голова: 2 услуги
  - Медовый массаж: 3 услуги
  - Детский массаж: 2 услуги
- Удалена почта из контактов
- Обновлен режим работы: сб - выходной, вс - 11:00-15:00
- Добавлен адрес: г. Ярославль, квартал Светлояр, д.1 Корп 4, цокольный этаж, кабинет 8

## Конфигурация

### Переменные Окружения
- `TELEGRAM_TOKEN` - токен Telegram бота (хранится как секрет)

### Настройки Бота (в Bot.py)
- `COMPANY_ID` - ID компании в DIKIDI (905912)
- `MASTER_NAME` - имя массажиста
- `MASTER_PHONE` - телефон мастера
- `MASTER_ADDRESS` - адрес кабинета
- `WORK_HOURS` - режим работы

## Услуги (всего 22)
1. Антицеллюлитный массаж (50 мин, 1 200₽)
2. Антицеллюлитный массаж живота и бока (25 мин, 750₽)
3. Антицеллюлитный массаж ягодиц и бедер (35 мин, 750₽)
4. Аппаратный массаж рук и парафинотерапия (10 мин, 300₽)
5. Детский массаж спины (25 мин, 600₽)
6. Детский общий массаж (45 мин, 750₽)
7. Икроножные мышцы и ступни (15 мин, 850₽)
8. Кинезиотейпирование при гиноидной липодистрофии (35 мин, 800₽)
9. Лимфодренажный массаж спины и рук (40 мин, 1 100₽)
10. Лимфодренажный массаж тела (60 мин, 1 700₽)
11. Массаж головы (10 мин, 350₽)
12. Массаж нижних конечностей (30 мин, 850₽)
13. Массаж ног детский (20 мин, 550₽)
14. Массаж ног лимфодренажный (30 мин, 850₽)
15. Массаж рук (10 мин, 400₽)
16. Массаж спины (30 мин, 900₽)
17. Массаж живота медовый (Восстановление) (30 мин, 800₽)
18. Медовый массаж на проблемные участки (ягодицы, бедра) (30 мин, 850₽)
19. Медовый массаж живота (Похудение) (30 мин, 800₽)
20. Моделирующий 3Д массаж лица и декольте (30 мин, 1 000₽)
21. Общий массаж (60 мин, 1 500₽)
22. ШВЗ (шейно-воротниковая зона) (20 мин, 700₽)

## Запуск Бота
Бот работает автоматически через workflow "Run Telegram Bot". Он использует режим polling для получения обновлений от Telegram.

Для ручного перезапуска бота:
```bash
python Bot.py
```

## Предпочтения Пользователя
- Все услуги видны в главном меню с сортировкой по алфавиту
- Главное меню: Услуги и цены → Контакты → Частые вопросы → Записаться онлайн
- Контакты содержат: имя, телефон, адрес, время работы и WhatsApp

## Технические Детали
- **Язык**: Python 3.11
- **Framework**: python-telegram-bot 20.7
- **HTTP Клиент**: aiohttp 3.9.1
- **Развёртывание**: Работает как длительный процесс с режимом polling
- **Внешний Сервис**: DIKIDI Online для управления записями

## Функции Бота
1. **Главное меню** - приветственное сообщение с кнопками навигации
2. **Браузер услуг** - 6 категорий услуг с сортировкой
3. **Прямая запись** - ссылки на DIKIDI для каждой услуги
4. **Контактная информация** - телефон, адрес, интеграция WhatsApp
5. **Частые вопросы** - ответы на популярные вопросы
6. **Обработка сообщений** - приём и логирование сообщений клиентов

## Примечания по Обслуживанию
- Токен бота хранится безопасно как секрет
- URL и цены услуг можно обновлять в массиве SERVICES в Bot.py
- Логирование httpx подавлено для предотвращения утечки токена в логах
- Все 22 услуги отображаются в представлении "Все услуги списком"
